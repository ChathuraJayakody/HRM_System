<html>
<head>
    <title>Employee Profiles</title>
    <link rel="stylesheet" href="../css/admin.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Animation for table row hover */
        table tbody tr {
            transition: background-color 0.3s ease;
        }

        table tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.1);
        }

        /* Smooth animation for the chart */
        .attendance-chart {
            animation: fadeIn 1s ease-in-out;
        }

        /* Simple fade-in animation */
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        /* Responsive layout */
        @media (max-width: 768px) {
            .admin-functions {
                display: block;
            }

            .function-card {
                margin-bottom: 20px;
            }

            .analytics, .attendance-chart {
                display: block;
                width: 100%;
            }

            table {
                width: 100%;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>

  <div class="navbar">
    <h1>Admin</h1>
    <nav>
        <a href="../index.html">Logout</a>
    </nav>
  </div>

  <!-- Admin Functions Section -->
  <div class="admin-functions">
    <div class="function-card">
        <h3>Manage Employees</h3>
        <p>Perform CRUD operations on employee data.</p>
        <a href="admin/manage_employees.html" class="button">Manage Employees</a>
    </div>
    <div class="function-card">
        <h3>View Attendance</h3>
        <p>View the attendance records of all employees.</p>
        <a href="admin/view_attendance.html" class="button">View Attendance</a>
    </div>
    <div class="function-card">
        <h3>View Payroll</h3>
        <p>View the payroll details for employees.</p>
        <a href="admin/view_payroll.html" class="button">View Payroll</a>
    </div>
    <div class="function-card">
        <h3>Other Details</h3>
        <p>View other relevant details of the employees.</p>
        <a href="admin/other_details.html" class="button">Other Details</a>
    </div>
  </div>

  <!-- Analytics Section -->
  <div class="analytics">
    <div class="analytic-box">
        <h3>Total Employees</h3>
        <p id="totalEmployees">15</p>
    </div>
    <div class="analytic-box">
        <h3>Employees on Leave</h3>
        <p>4</p>
    </div>
    <div class="analytic-box">
        <h3>Average Performance Score</h3>
        <p>75%</p>
    </div>
    <div class="analytic-box">
        <h3>Active Employees</h3>
        <p>11</p>
    </div>
  </div>

  <!-- Attendance and Leave Chart -->
  <div class="attendance-chart">
    <h3>Employee Attendance and Leave</h3>
    <canvas id="attendanceChart" width="400" height="200"></canvas>
  </div>

  <!-- Employee Profiles Table -->
  <div class="container">
    <table>
      <thead>
          <tr>
              <th>Name</th>
              <th>Department</th>
              <th>Phone</th>
              <th>Status</th>
              <th>Details</th>
          </tr>
      </thead>
      <tbody>
          <!-- Employee rows go here, same as before -->
      </tbody>
    </table>
  </div>

  <script>
      // Update Total Employees dynamically
      document.getElementById("totalEmployees").innerText = 15;

      // Attendance and Leave Chart with Animation
      var ctx = document.getElementById('attendanceChart').getContext('2d');
      var attendanceChart = new Chart(ctx, {
          type: 'bar',
          data: {
              labels: [
                  'Kasun Perera', 'Sandun Perera', 'Ravi Kumar', 'Priya De Silva', 'Ayesha Fernando', 
                  'Tharindu Silva', 'Anusha Perera', 'Chamika Bandara', 'Shehan Fernando', 'Manoj Wickramasinghe'
              ],
              datasets: [{
                  label: 'Attendance',
                  data: [80, 90, 85, 95, 90, 75, 80, 88, 70, 85], // Example attendance percentages
                  backgroundColor: 'rgba(54, 162, 235, 0.2)',
                  borderColor: 'rgba(54, 162, 235, 1)',
                  borderWidth: 1
              }, {
                  label: 'Leave Taken',
                  data: [5, 2, 3, 1, 0, 6, 3, 4, 2, 3], // Example leave days taken
                  backgroundColor: 'rgba(255, 99, 132, 0.2)',
                  borderColor: 'rgba(255, 99, 132, 1)',
                  borderWidth: 1
              }]
          },
          options: {
              animation: {
                  duration: 1500, // Smooth animation duration for chart rendering
              },
              scales: {
                  y: {
                      beginAtZero: true
                  }
              }
          }
      });
  </script>
</body>
</html>
